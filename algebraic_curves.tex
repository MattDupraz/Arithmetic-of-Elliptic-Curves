\section{Algebraic Curves}

\subsection{Basic properties}

By a \emph{curve} we always mean a projective variety of dimension one.

% Is it true for K non algebraicaly closed?
\begin{proposition}
	Let $C$ be a curve and $P \in C$ a smooth point.
	Then $K[C]_P$ is a discrete valuation ring.
\end{proposition}

\begin{definition}
	Let $C$ be a curve and $P \in C$ a smooth point. The \emph{valuation}
	on $K[C]_P$ is given by
	\begin{align*}
		\ord_P: K[C]_P &\to \N\cup\{\infty\}\\
		f &\mapsto \max\{d \in \N \mid f \in \m_P^d\}.
	\end{align*}
	We extend this definition to $K(C)$ using
	\begin{align*}
		\ord_P: K(C) &\to \N\cup\{\infty\}\\
		f/g &\mapsto \ord_P(f) - \ord_P(g).
	\end{align*}
	For $f \in K(C)$, we call $\ord_P(f)$ the order of $f$ at $P$.
	If $\ord_P(f) > 0$, then $f$ has a \emph{zero} at $P$,
	if $\ord_P(f) < 0$, then $f$ has a \emph{pole} at $P$,
	if $\ord_P(f) \geq 0$, then $f$ is \emph{regular} at $P$.
	
	A \emph{uniformizer} for $C$ at $P$ is a function $t \in K(C)$ with
	$\ord_P(t) = 1$ (so a generator of $\m_P$)
\end{definition}

\begin{proposition}
	Let $C$ be a curve, $V \subseteq \proj^n$ a variety,
	$P \in C$ a smooth point, and $\phi: C \to V$ a rational map.
	Then $\phi$ is regular at $P$. In particular, if $C$ is smooth, 
	then $\phi$ is a morphism.
\end{proposition}

\begin{theorem}
	Let $\phi: C_1 \to C_2$ be a morphism of curves. Then $\phi$ is either
	constant or surjective.
\end{theorem}

\begin{definition}
	Let $\phi: C_1 \to C_2$ be a map of curves defined over $K$.
	If $\phi$ is constant, we define the \emph{degree} of $\phi$ to be $0$.
	Otherwise we define the degree of $\phi$ by
	\begin{equation*}
		\deg\phi = [K(C_1): \phi^*K(C_2)]
	\end{equation*}
	Let $S$ be the separable closure of $\phi^*K(C_2)$ inside $K(C_1)$.
	we define the \emph{separable degree} of $\phi$ to be
	\begin{equation*}
		\deg_s\phi = [S: \phi^*K(C_2)]
	\end{equation*}
	and the \emph{inseparable degree}
	\begin{equation*}
		\deg_i\phi = [K(C_1): S].
	\end{equation*}
\end{definition}

\begin{definition}
	Let $\phi: C_1 \to C_2$ be a non-constant map of smooth curves, and let
	$P \in C_1$. The \emph{ramification index} of $\phi$ at $P$, denoted
	$e_\phi(P)$, is given by
	\begin{equation*}
		e_\phi(P) = \ord_P(\phi^*t_{\phi(P)})
	\end{equation*}
	where $t_{\phi(P)} \in K(C_2)$ is a uniformizer at $\phi(P)$.
	We say that $\phi$ is \emph{unramified} at $P$ if $e_\phi(P) = 1$. $\phi$ is
	\emph{unramified} if it is unramified at every point $C_1$.
\end{definition}

\begin{definition}
	Suppose $\chr(K) = p \neq 0$ and let $q = p^r$.
	For any polynomial $f \in K[X]$ define $f^{(q)}$ to be the polynomial
	obtained from $f$ by raising each coefficient of $f$ to the $q$\ts{th} power.
	For any curve $C/K$ we can define a new curve $C^{(q)}/K$ corresponding
	to the ideal generated by $\{f^{(q)}: f \in I(C)\}$.
	
	The $q$\ts{th}-\emph{power Frobenius morphism} is defined by
	\begin{align*}
		\phi: C &\to C^{(q)}\\
		[x_0, \dots, x_n] &\mapsto [x_0^q, \dots, x_n^q]
	\end{align*}
	This map is well defined as for any $P = [x_0, \dots, x_n] \in C$, and
	for any generator $f^{(q)}$ of $I(C^{(q)})$,
	\begin{align*}
		f^{(q)}(\phi(P)) &= f^{(q)}(x_0^q, \dots, x_n^q)\\
		&= (f(x_0, \dots, x_n))^q&\textrm{since }\chr(K) = p\\
		&= (f(P))^q = 0
	\end{align*}
\end{definition}

\subsection{Divisors}

\begin{definition}
	The \emph{divisor group of a curve} $C$, denoted $\Div(C)$ is the free
	abelian group generated by the points of $C$. We write $D \in \Div(C)$ as
	the formal sum
	\begin{equation*}
		D = \sum_{P \in C} n_P(P)
	\end{equation*}
	with $n_P \in \Z$ and $n_P = 0$ for all but finitely many $P \in C$.

	The \emph{degree} of $D$ is defined by
	\begin{equation*}
		\deg D = \sum_{P \in C} n_P.
	\end{equation*}
	The \emph{divisors of degree} 0 form a subgroup of $\Div(C)$, which we denote
	by
	\begin{equation*}
		\Div^0(C) = \{D \in \Div(C) \mid \deg D = 0\}.
	\end{equation*}
\end{definition}

\begin{definition}
	Let $C$ be a smooth curve and $f \in K(C)\setminus\{0\}$. We
	associate to $f$ the divisor $\div(f)$ given by
	\begin{equation*}
		\div(f) = \sum_{P \in C}\ord_P(f)(P)
	\end{equation*}
\end{definition}

\begin{remark}
	Since each $\ord_P$ is a valuation, the map
	\begin{equation*}
		\div: K(C)^\times \to \Div(C)
	\end{equation*}
	is a homomorphism of abelian groups.
\end{remark}

\begin{definition}
	A divisor $D \in \Div(C)$ is \emph{principal} if it has the form
	$D = \div(f)$ for some $f \in K(C)$. The subgroup of principal divisors
	is denoted $\PDiv(C)$
	Two divisors $D_1, D_2$ are \emph{linearly equivalent}, which we denote
	$D_1 \sim D_2$, if $D_1 - D_2$ is principal.
\end{definition}

\begin{definition}
	The \emph{divisor class group} of a curve $C$,
	denoted $\Cl(C)$, is the quotient $\Div(C)/\PDiv(C)$.
	Principal divisors have degree $0$ and hence it makes sense to speak about
	the degree of elements in $\Cl(C)$. The sugroup of elements of $\Cl(C)$ of
	degree $0$ is denoted $\Cl^0(C)$.
\end{definition}

\begin{definition}
	A divisor $D = \sum n_P(P) \in \Div(C)$ is \emph{positive} (or
	\emph{effective}), denoted by
	$D \geq 0$, if $n_P \geq 0$ for all $P \in C$.
	For two divisors $D_1, D_2 \in \Div(C)$, we write $D_1 \geq D_2$
	to indicate that $D_1 - D_2$ is positive.
\end{definition}

\begin{definition}
	Let $D \in \Div(C)$. We associate to $D$ the set of functions
	\begin{equation*}
		\L(D) = \{f \in K(C)^\times: \div(f) \geq -D\} \cup \{ 0 \}.
	\end{equation*}
	It can be shown $\L(D)$ is finite-dimensional. We denote its dimension by
	\begin{equation*}
		l(D) = \dim_K \L(D).
	\end{equation*}
\end{definition}

We now state (without proof) a corrolary of the Riemann-Roch theorem, which will be
useful in the following chapters.

\begin{theorem}[Riemann-Roch]
	\label{thm:riemann-roch}
	Let $C$ be a smooth curve of genus $g$. Let $D \in \Div(C)$, then if
	$\deg(D) > 2g - 2$, we have that
	\begin{equation*}
		l(D) = \deg(D) - g + 1
	\end{equation*}
\end{theorem}
