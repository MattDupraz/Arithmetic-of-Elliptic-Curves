\section{Algebraic Curves}

\subsection{Basic properties}

By a \emph{curve} we always mean a projective variety of dimension one.

\begin{proposition}
	Let $C$ be a curve and $P \in C$ a smooth point.
	Then $\O_P(C)$ is a discrete valuation ring.
\end{proposition}

\begin{proof}
	This was proven in the course \emph{Algebraic curves}
	(Corollary 4.4).
\end{proof}

\begin{definition}
	Let $C$ be a curve and $P \in C$ a smooth point. The \emph{valuation}
	on $\O_P(C)$ is given by
	\begin{align*}
		\ord_P: \O_P(C) &\to \N\cup\{\infty\}\\
		f &\mapsto \max\{d \in \N \mid f \in \m_P^d\}.
	\end{align*}
	where $\m_P$ is the maximal ideal of $\O_P(C)$.
	We extend this definition to $K(C)$ using
	\begin{align*}
		\ord_P: K(C) &\to \N\cup\{\infty\}\\
		f/g &\mapsto \ord_P(f) - \ord_P(g).
	\end{align*}
	For $f \in K(C)$, we call $\ord_P(f)$ the order of $f$ at $P$.
	If $\ord_P(f) > 0$, then $f$ has a \emph{zero} at $P$,
	if $\ord_P(f) < 0$, then $f$ has a \emph{pole} at $P$,
	if $\ord_P(f) \geq 0$, then $f$ is \emph{regular} at $P$.
	
	A \emph{uniformizer} for $C$ at $P$ is a function $t \in K(C)$ with
	$\ord_P(t) = 1$ (so a generator of $\m_P$)
\end{definition}

\begin{proposition}
	Let $C$ be a curve, $V \subseteq \proj^n$ a variety,
	$P \in C$ a smooth point, and $\phi: C \to V$ a rational map.
	Then $\phi$ is regular at $P$. In particular, if $C$ is smooth, 
	then $\phi$ is a morphism.
\end{proposition}

\begin{theorem}
	Let $\phi: C_1 \to C_2$ be a morphism of curves. Then $\phi$ is either
	constant or surjective.
\end{theorem}
\comment{Add proofs?}

\begin{definition}
	Let $\phi: C_1 \to C_2$ be a map of curves defined over $K$.
	If $\phi$ is constant, we define the \emph{degree} of $\phi$ to be $0$.
	Otherwise we define the degree of $\phi$ by
	\begin{equation*}
		\deg\phi = [K(C_1): \phi^*K(C_2)]
	\end{equation*}
	Let $S$ be the separable closure of $\phi^*K(C_2)$ inside $K(C_1)$.
	we define the \emph{separable degree} of $\phi$ to be
	\begin{equation*}
		\deg_s\phi = [S: \phi^*K(C_2)]
	\end{equation*}
	and the \emph{inseparable degree}
	\begin{equation*}
		\deg_i\phi = [K(C_1): S].
	\end{equation*}
\end{definition}

% RAMIFICATION INDEX

\begin{definition}
	Let $\phi: C_1 \to C_2$ be a non-constant map of smooth curves, and let
	$P \in C_1$. The \emph{ramification index} of $\phi$ at $P$, denoted
	$e_\phi(P)$, is given by
	\begin{equation*}
		e_\phi(P) = \ord_P(\phi^*t_{\phi(P)})
	\end{equation*}
	where $t_{\phi(P)} \in K(C_2)$ is a uniformizer at $\phi(P)$.
	We say that $\phi$ is \emph{unramified} at $P$ if $e_\phi(P) = 1$. $\phi$ is
	\emph{unramified} if it is unramified at every point $C_1$.
\end{definition}
\comment{NEED: Ramification properties. + examples ?}

% FROBENIUS MORPHISM

\begin{definition}
	Suppose $\chr(K) = p \neq 0$ and let $q = p^r$.
	For any polynomial $f \in K[X]$ define $f^{(q)}$ to be the polynomial
	obtained from $f$ by raising each coefficient of 
	$f$ to the $q$\ts{th} power.
	For any curve $C/K$ we can define a new curve $C^{(q)}/K$ corresponding
	to the ideal generated by $\{f^{(q)}: f \in I(C)\}$.	

	The $q$\ts{th}-\emph{power Frobenius morphism} is defined by
	\begin{align*}
		\phi: C &\to C^{(q)}\\
		[x_0, \dots, x_n] &\mapsto [x_0^q, \dots, x_n^q]
	\end{align*}
	This map is well defined as for any $P = [x_0, \dots, x_n] \in C$, and
	for any generator $f^{(q)}$ of $I(C^{(q)})$,
	\begin{align*}
		f^{(q)}(\phi(P)) &= f^{(q)}(x_0^q, \dots, x_n^q)\\
		&= (f(x_0, \dots, x_n))^q&\textrm{since }\chr(K) = p\\
		&= (f(P))^q = 0
	\end{align*}
	
	Notice that if
	$C$ is defined over $\F_q \subset K$, then $C^{(q)} = C$,
	and $\phi$ becomes and endomorphism.
\end{definition}

\subsection{Divisors}

\begin{definition}
	The \emph{divisor group of a curve} $C$, denoted $\Div(C)$ is the free
	abelian group generated by the points of $C$. We write $D \in \Div(C)$ as
	the formal sum
	\begin{equation*}
		D = \sum_{P \in C} n_P\cdot(P)
	\end{equation*}
	with $n_P \in \Z$ and $n_P = 0$ for all but finitely many $P \in C$.

	The \emph{degree} of $D$ is defined by
	\begin{equation*}
		\deg D = \sum_{P \in C} n_P.
	\end{equation*}
	The \emph{divisors of degree} 0 form a subgroup of $\Div(C)$, which we denote
	by
	\begin{equation*}
		\Div^0(C) = \{D \in \Div(C) \mid \deg D = 0\}.
	\end{equation*}
\end{definition}

\begin{definition}
	Let $C$ be a smooth curve and $f \in K(C)\setminus\{0\}$. We
	associate to $f$ the divisor $\div(f)$ given by
	\begin{equation*}
		\div(f) = \sum_{P \in C}\ord_P(f)\cdot(P)
	\end{equation*}
\end{definition}

\begin{remark}
	Since each $\ord_P$ is a valuation, the map
	\begin{equation*}
		\div: K(C)^\times \to \Div(C)
	\end{equation*}
	is a homomorphism of abelian groups.
\end{remark}

\begin{definition}
	A divisor $D \in \Div(C)$ is \emph{principal} if it has the form
	$D = \div(f)$ for some $f \in K(C)$. The subgroup of principal divisors
	is denoted $\PDiv(C)$
	Two divisors $D_1, D_2$ are \emph{linearly equivalent}, which we denote
	$D_1 \sim D_2$, if $D_1 - D_2$ is principal.
\end{definition}

\begin{definition}
	The \emph{divisor class group} of a curve $C$,
	denoted $\Cl(C)$, is the quotient $\Div(C)/\PDiv(C)$.
	Principal divisors have degree $0$ and hence it makes sense to speak about
	the degree of elements in $\Cl(C)$. The sugroup of elements of $\Cl(C)$ of
	degree $0$ is denoted $\Cl^0(C)$.
\end{definition}

% DEFINITION MAP OF DIVISORS

\begin{definition}
	Let $\phi: C_1 \to C_2$ be a non-constant between smooth curves.
	Then $\phi$ induces maps between the divisor groups of $C_1$ and $C_2$.
	The \emph{pullback} is defined by
	\begin{align*}
		\phi^*: \Div(C_2) &\to \Div(C_1)\\
		(Q) &\mapsto \sum_{P \in \phi^{-1}(Q)}e_\phi(P)\cdot(P).
	\end{align*}
	The \emph{pushforward} is defined by
	\begin{align*}
		\phi_*: \Div(C_1) &\to \Div(C_2)\\
		(P) &\mapsto (\phi P).
	\end{align*}
\end{definition}
\comment{List (w/o proof) properties of $\phi^*$, $\phi_*$}

\begin{definition}
	A divisor $D = \sum n_P(P) \in \Div(C)$ is \emph{positive} (or
	\emph{effective}), denoted by
	$D \geq 0$, if $n_P \geq 0$ for all $P \in C$.
	For two divisors $D_1, D_2 \in \Div(C)$, we write $D_1 \geq D_2$
	to indicate that $D_1 - D_2$ is positive.
\end{definition}

\begin{definition}
	Let $D \in \Div(C)$. We associate to $D$ the set of functions
	\begin{equation*}
		\L(D) = \{f \in K(C)^\times: \div(f) \geq -D\} \cup \{ 0 \}.
	\end{equation*}
	It can be shown $\L(D)$ is a finite-dimensional
	$K$-vector space. We denote its dimension by
	\begin{equation*}
		l(D) = \dim_K \L(D).
	\end{equation*}
\end{definition}

\subsection{Differentials}

In this section we introduce the notion of differential forms on a curve.
This will allow us to state the Riemann-Roch theorem and define the genus of a
curve. Furthermore, differentials turn out to be very useful for determining
when map between curves is separable.
For the goals of this paper, it will suffice to gloss over the main definitions
and properties without providing proofs.

\begin{definition}
	Let $C$ be a curve. 
	The \emph{space of (meromorphic)} differential forms on $C$, denoted
	$\Omega_C$, is the $K(C)$-vector space generated by symbols of the form
	$df$ for $f\in K(C)$, subject to the following relations:
	\begin{enumerate}[itemsep=0em]
		\item $d(x + y) = dx + dy$
		\item $d(xy) = x\,dy + y\,dx$
		\item $da = 0$
	\end{enumerate}
	for all $x, y \in K(C)$ and $a \in K$.
\end{definition}

\begin{definition}
	Let $\phi: C_1 \to C_2$ be a non-constant map of curves. Then $\phi$ induces
	maps between the spaces of meromorphic forms of $C_1$ and $C_2$.
	The \emph{pullback} is defined by
	\begin{align*}
		\phi^*: \Omega_{C_2} &\to \Omega_{C_1}\\
		fdx &\mapsto (\phi^* f)\,d(\phi^* x)
	\end{align*}
\end{definition}

\begin{proposition}
	\label{prop:forms-dimension}
	Let $C$ be a curve, then $\Omega_C$ is a 1-dimensional $K(C)$-vector space.
	Furthermore, if $t \in K(C)$ is a uniformizer at $P$,
	then $dt$ generates $\Omega_C$.
\end{proposition}

\begin{notation}
	Let $\omega \in \Omega_C$. Then by \ref{prop:forms-dimension} there exists
	$g \in K(C)$ such that $\omega = g\,dt$. We denote $g$ by $\omega/dt$.
\end{notation}

The following proposition will allow us to define the order of a differential.
\begin{proposition}
	Let $P \in C$ and $t \in K(C)$ a uniformizer at $P$. For $\omega \in
	\Omega_C$,
	the quantity
	\begin{equation*}
		\ord_P(\omega/dt)
	\end{equation*}
	is independent of the choice of uniformizer $t$.
\end{proposition}

\begin{definition}
	We call $\ord_P(\omega/dt)$ the order of $\omega$ at $P$ and denote it by
	$\ord_P(\omega)$.
\end{definition}

\begin{proposition}
	For all but finitely many $P \in \C$, 
	\begin{equation*}
		\ord_P(\omega) = 0.
	\end{equation*}
\end{proposition}

We can now define the notion of divisor of a differential.
\begin{definition}
	Let $\omega \in \Omega_C$. The divisor associated to $\omega$ is
	\begin{equation*}
		\div(\omega) = \sum_{P \in C} \ord_P(\omega)\cdot (P) \in \Div(C)
	\end{equation*}
\end{definition}

\begin{definition}
	A differential $\omega \in \Omega_C$ is \emph{regular} (or \emph{holomorphic})
	if for all $P \in C$,
	\begin{equation*}
		\ord_P(\omega) \geq 0.
	\end{equation*}
	If is \emph{non-vanishing} if for all $P \in C$,
	\begin{equation*}
		\ord_P(\omega) \leq 0.
	\end{equation*}
\end{definition}

Now, if $\omega_1$ and $\omega_2 \in \Omega_C$ are non-zero differentials, then
there exists $f\in K(C)^\times$ such that $\omega_1 = f\omega_2$.
This implies that
\begin{equation*}
	\div(\omega_1) = \div(f) + \div(\omega_2).
\end{equation*}
It follows that the divisors of all differentials are in the same class in
$\Cl(C)$ and so the following definition makes sense.

\begin{definition}
	The \emph{canonical divisor class} on $C$ is the image in $\Cl(C)$ of
	$\div(\omega)$ for any non-zero differential $\omega \in \Omega_C$.
	Any divisor in this class is called a \emph{canonical divisor}.
\end{definition}

\subsection{Genus of a Curve and the Riemann-Roch Theorem}

We can finally define what the genus of a curve is.
\begin{definition}
	Let $C$ be a curve, let $K_C$ be a canonical divisor,
	the \emph{genus} of $C$ is defined to be $\dim_K \L(K_C) = l(K_C)$.
\end{definition}

The genus is an important invariant of algebraic curves.
For example, we have the Riemann-Roch theorem, which will
turn out to be very useful in the chapters that follow.
The proof being outside of the scope of this paper, it will not be provided.
\begin{theorem}[Riemann-Roch]
	\label{thm:riemann-roch}
	Let $C$ be a smooth curve of genus $g$ and $K_C$ a canonical divisor on $C$.
	Then for every divisor $D \in \Div(C)$,
	\begin{equation*}
		l(D) - l(K_C - D) = \deg D - g + 1.
	\end{equation*}
\end{theorem}

\begin{corollary}
	\label{cor:riemann-roch}
	In the same setup as the Riemann-Roch theorem, we have the following properties
	\begin{enumerate}[itemsep=0em, label=(\alph*)]
		\item $\deg K_C = 2g - 2$.
		\item If $\deg(D) > 2g - 2$, we have that
			\begin{equation*}
				l(D) = \deg(D) - g + 1
			\end{equation*}	
	\end{enumerate}
\end{corollary}
\comment{Prove}

The theorem turns out to be very useful, for example we get the following 
powerful result.
\begin{proposition}
	\label{prop:sim-implies-eq}
	Let $C$ be a curve of genus 1, and let $P, Q \in C$. Then
	\begin{equation*}
		(P) \sim (Q)
		\quad\textrm{if and only if}\quad
		P = Q
	\end{equation*}
\end{proposition}

\begin{proof}
	Suppose $(P) \sim (Q)$, then there exists some $f \in K(C)$ such that
	\begin{equation*}
		\div(f) = (P) - (Q).
	\end{equation*}
	We have that $f \in \L((Q))$ and by Riemann-Roch (\ref{cor:riemann-roch}),
	it follows that
	\begin{equation*}
		\dim \L((Q)) = \deg((Q)) - g + 1 = 1.
	\end{equation*}
	Since $\L((Q))$ already contains the constant functions, $f \in \L((Q)) = K$
	and so $P = Q$.
\end{proof}

Thanks to the Riemann-Roch theorem, we can also link the genera of 
curves with a non-constant separable map between them.
The following theorem makes this concrete.
\begin{theorem}[Riemann-Hurwitz]
	Let $C_1, C_2$ be smooth curves of genus $g_1, g_2$ respectively.
	Let $\phi: C_1 \to C_2$ be a non-constant separable map, then
	\begin{equation*}
		2g_1 - 2 \geq (\deg \phi) (2g_2 - 2) + \sum_{P \in C_1}(e_\phi(P) - 1).
	\end{equation*}
	Furthermore, the above is an equality if and only if either:
	\begin{enumerate}[itemsep=0em, label=(\roman*)]
		\item $\chr(K) = 0$, or
		\item $\chr(K) = p > 0$ and $p$ does not divide $e_\phi(P)$ for all
			$P \in C_1$.
	\end{enumerate}
\end{theorem}
\comment{Prove?}

Using the Riemann-Hurwitz formula, we get a very simple formula describing
the genus of a plane curve.
\begin{corollary}
	\label{cor:genus-formula}
	Let $F \in K[X, Y, Z]$ be homogeneous of degree $d \geq 1$, and suppose that
	the curve $C$ in $\proj^2$ given by the equation $F = 0$ is non-singular.
	Then
	\begin{equation*}
		\genus(C) = \frac{(d-1)(d-2)}{2}.
	\end{equation*}
\end{corollary}

\begin{proof}
	\comment{Need proof}
\end{proof}


