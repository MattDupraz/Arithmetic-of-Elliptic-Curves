\section{Elliptic Curves over Finite Fields}

For this section we fix a prime $p$ and $q$ a power of $p$.
We suppose throughout this section that $\chr(K) = p$.

In this section we will state the Weil conjectures and prove them in the
case of elliptic curve.
If $K$ is of characteristic $p$,
it contains a unique subfield of order $p^n$ for any $n \in \N$ (see
course \emph{Rings and Fields}), we will denote this subfield by $\F_{p^n}$.
We will be studying the set of
$\F_{q^n}$-rational points of a projective variety.

\begin{definition}
	Let $V/\F_q$ be a projective variety.
	The zeta function of $V/\F_q$ is defined as the power series
	\begin{equation*}
		Z(V/\F_q; T) = \exp\left(\sum_{n=1}^\infty (\#V(\F_{q^n}))
		\frac{T^n}{n}\right)
	\end{equation*}
\end{definition}

\begin{notation}
	When $V/\F_q$ is known from context, we write simply $Z(T)$
	instead of $Z(V/\F_q; T)$
\end{notation}

\begin{theorem}[Weil Conjectures]
	\label{thm:weil}
	Let $V/\F_q$ be a smooth projective variety of dimension $N$.
	\begin{enumerate}[label=(\alph*)]
		\item Rationality: $Z(T) \in \Q(T)$. More precisely, 
			there is a factorization
			\begin{equation*}
				Z(T) = \frac{P_1(T)\cdots P_{2n-1}(T)}
				{P_0(T)P_2(T) \cdots P_{2n}(T)},
			\end{equation*}
			where $P_0(T) = 1 - T, P_{2n}(T) = 1 - q^nT$ and for each
			$1 \leq i \leq 2n - 1$, $P_i(T)$ factors (over $\C$) as
			\begin{equation*}
				P_i(T) = \prod_j (1 - \alpha_{ij}T)
			\end{equation*}
		\item Functional Equation: The zeta function satisfies
			\begin{equation*}
				Z\left(\frac{1}{q^NT}\right) = \pm q^{N\frac{\epsilon}{2}}
				T^{\epsilon} Z(T),
			\end{equation*}
			for some integer $\epsilon$ (called the Euler characteristic of $V$)
		\item Riemann Hypothesis: $|\alpha_{ij}| = q^{i/2}$
			for all $1 \leq i \leq 2n - 1$ and all $j$.
		\item Betti Numbers: If $V/\F_q$ is a reduction mod $p$ of a
			non-singular projective variety $W/K$, where $K$ is a number
			field embedded in the field of complex numbers, then the degree
			of $P_i$ is the $i$\textsuperscript{th} Betti number of the space
			of complex points of $W$. \comment{Add examples for how this
			reduction works?}
	\end{enumerate}
\end{theorem}

\begin{proposition}
	\label{prop:frob-char-poly}
	Let $E/\F_q$ be an elliptic curve, and
	\begin{equation*}
		\phi: E \to E, (x, y) \mapsto (x^q, y^q)
	\end{equation*}
	the $q$\ts{th}-power Frobenius endomorphism.
	Let $\alpha, \beta \in \C$ be the roots of the characteristic polynomial
	of $\phi_l$, that is
	\begin{equation*}
		\det(T - \phi_l) = T^2 - \tr(\phi_l)T + \det(\phi_l),
	\end{equation*}
	then $\alpha, \beta$ are complex conjugates satisfying
	$|\alpha| = |\beta| = \sqrt{q}$. Furthermore, for every $n \geq 1$, we
	have
	\begin{equation*}
		\#E(\F_{q^n}) = q^n + 1 - \alpha^n - \beta^n
	\end{equation*}
\end{proposition}

\begin{proof}
	We have by \ref{prop:frobenius-separable}
	and \ref{thm:preimage-card}
	that
	\begin{equation*}
		\#E(\F_q) = \deg(1 - \phi)
	\end{equation*}
	and from \ref{prop:deg-tr-det}, we have that
	\begin{equation*}
		\det(\phi_l) = \deg(\phi) = q;\\
	\end{equation*}
	For all $m/n \in \Q$, with $p \nmid m$,
	we have using \ref{prop:frobenius-separable} that
	\begin{equation*}
		\det\left(\frac{m}{n} - \phi_l\right)
		= \frac{\det(m - n\phi_l)}{n^2}
		= \frac{\deg(m - n\phi_l)}{n^2} \geq 0
	\end{equation*}
	Hence the polynomial $\det(T - \phi_l)$ is non-negative for $T \in \R$
	(by continuity). If $\alpha$, $\beta$ are the roots of $\det(T - \phi_l)$,
	it follows that $\alpha$, $\beta$ are complex conjugates (they can be
	equal). So $|\alpha| = |\beta|$ and since $\alpha\beta = \det(\phi_l) = q$,
	it follows that $|\alpha| = |\beta| = \sqrt{q}$.

	Now, for $n \geq 1$ the $(q^n)$\ts{th}-power Frobenius endomorphism
	$\phi^n$ satisfies
	\begin{equation*}
		\#E(\F_{q^n}) = \deg(1 - \phi^n) = \det(1 - \phi_l^n)
	\end{equation*}
	We have that
	\begin{equation*}
		\det(T - \phi_l^n) = (T - \alpha^n)(T - \beta^n)
	\end{equation*}
	since the eigenvalues of $\phi_l^n$ are the $n$\ts{th} powers
	of the eigenvalues of $\phi_l$. From 
	\ref{prop:deg-tr-det}, we have that
	\begin{equation*}
		\tr(\phi_l^n) = 1 + \deg(\phi^n) - \deg(1 - \phi^n)
		= 1 + q^n - \#E(\F_{q^n}).
	\end{equation*}
	and hence 
	\begin{equation*}
		\#E(\F_{q^n}) = 1 + q^n - \tr(\phi_l^m)
		= 1 + q^n - \alpha^n - \beta^n.
	\end{equation*}
\end{proof}

\begin{theorem}
	Let $E/\F_q$ be an elliptic curve. Then there exists an $a \in \Z$ such that
	\begin{equation*}
		Z(T) = \frac{1 - aT + qT^2}{(1-T)(1-qT)}.
	\end{equation*}
	Furthermore,
	\begin{equation*}
		Z\left(\frac{1}{qT}\right) = Z(T)
	\end{equation*}
	and
	\begin{equation*}
		1 - aT + qT^2 = (1 - \alpha T)(1 - \beta T)
	\end{equation*}
	with $|\alpha| = |\beta| = \sqrt{q}$
\end{theorem}

\begin{proof}
	Using the definition of $Z(E/\F_q; T)$, we get
	\begin{align*}
		\log Z(E/\F_q; T) &= \sum_{n=1}^\infty (\#E(\F_{q^n}))\frac{T^n}{n}\\
		&= \sum_{n=1}^\infty (q^n + 1 - \alpha^n - \beta^n)\frac{T^n}{n}
		\qquad \textrm{(\ref{prop:frob-char-poly})}\\
		&= -\log(1 - qT) - \log(1 - T) + \log(1 - \alpha T) + \log(1 - \beta T)
	\end{align*}
	and hence we get
	\begin{equation*}
		Z(E/\F_q; T) = \frac{(1 - \alpha T)(1 - \beta T)}{(1 - T)(1 - qT)},
	\end{equation*}
	which has the desired form.
	Indeed from (\ref{prop:frob-char-poly}), 
	$|\alpha| = |\beta| = \sqrt{q}$, and
	\begin{align*}
		a = \alpha + \beta = \tr(\phi_l) &= 1 + \deg(\phi) - \deg(1 - \phi)\\
		&= 1 + q - \#E(\F_q) \in \Z.
	\end{align*}

\end{proof}

Hence the Weil conjectures are verified for elliptic curves. Notice that
using the notation from theorem \ref{thm:weil},
$\deg P_0 = 1$, $\deg P_1 = 2$, $\deg P_2 = 1$, hence we would expect
the Betti numbers of $E/\C$ to coincide with these values, and indeed, as we
will see in the following section, this is indeed the case.
